{"ast":null,"code":"var _jsxFileName = \"/Users/ihzaan/Documents/GitHub/EV-Connect/frontend/src/components/MangeStation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { GoogleMap, LoadScript, Marker } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAP_API_KEY = \"\"; // Replace with your API key\n\nconst ManageStations = () => {\n  _s();\n  const [stations, setStations] = useState([]);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    slots: \"\"\n  });\n  const [markerPosition, setMarkerPosition] = useState(null);\n  const navigate = useNavigate();\n\n  // Define fetchStations to get station data\n  const fetchStations = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5006/api/stations\");\n      const data = await response.json();\n      setStations(data);\n    } catch (error) {\n      console.error(\"Error fetching stations:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchStations();\n  }, []);\n  const handleMapClick = event => {\n    const lat = event.latLng.lat();\n    const lng = event.latLng.lng();\n    setMarkerPosition({\n      lat,\n      lng\n    });\n    setFormData({\n      ...formData,\n      latitude: lat,\n      longitude: lng\n    });\n  };\n  const useCurrentLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const lat = position.coords.latitude;\n        const lng = position.coords.longitude;\n        setMarkerPosition({\n          lat,\n          lng\n        });\n        setFormData({\n          ...formData,\n          latitude: lat,\n          longitude: lng\n        });\n      }, error => {\n        console.error(\"Error getting location:\", error);\n      });\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAddStation = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\"http://localhost:5006/api/stations\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (response.ok) {\n        fetchStations(); // Now it will work since fetchStations is defined\n        setFormData({\n          name: \"\",\n          latitude: \"\",\n          longitude: \"\",\n          slots: \"\"\n        });\n        setMarkerPosition(null);\n      }\n    } catch (error) {\n      console.error(\"Error adding station:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Charging Stations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddStation,\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Station Name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"slots\",\n        placeholder: \"Total Slots\",\n        value: formData.slots,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: useCurrentLocation,\n        children: \"Use Current Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Station\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: MAP_API_KEY,\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: {\n          width: \"100%\",\n          height: \"400px\"\n        },\n        center: markerPosition || {\n          lat: 12.9716,\n          lng: 77.5946\n        },\n        zoom: markerPosition ? 15 : 10,\n        onClick: handleMapClick,\n        children: markerPosition && /*#__PURE__*/_jsxDEV(Marker, {\n          position: markerPosition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageStations, \"zFYk/Vrz/HioOQx04OCrqGB7FQc=\", false, function () {\n  return [useNavigate];\n});\n_c = ManageStations;\nexport default ManageStations;\nvar _c;\n$RefreshReg$(_c, \"ManageStations\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","MAP_API_KEY","ManageStations","_s","stations","setStations","formData","setFormData","name","latitude","longitude","slots","markerPosition","setMarkerPosition","navigate","fetchStations","response","fetch","data","json","error","console","handleMapClick","event","lat","latLng","lng","useCurrentLocation","navigator","geolocation","getCurrentPosition","position","coords","alert","handleChange","e","target","value","handleAddStation","preventDefault","method","headers","body","JSON","stringify","ok","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","placeholder","onChange","required","onClick","googleMapsApiKey","mapContainerStyle","width","height","center","zoom","_c","$RefreshReg$"],"sources":["/Users/ihzaan/Documents/GitHub/EV-Connect/frontend/src/components/MangeStation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { GoogleMap, LoadScript, Marker } from \"@react-google-maps/api\";\n\nconst MAP_API_KEY = \"\"; // Replace with your API key\n\nconst ManageStations = () => {\n  const [stations, setStations] = useState([]);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    slots: \"\",\n  });\n  const [markerPosition, setMarkerPosition] = useState(null);\n  const navigate = useNavigate();\n\n  // Define fetchStations to get station data\n  const fetchStations = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5006/api/stations\");\n      const data = await response.json();\n      setStations(data);\n    } catch (error) {\n      console.error(\"Error fetching stations:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchStations();\n  }, []);\n\n  const handleMapClick = (event) => {\n    const lat = event.latLng.lat();\n    const lng = event.latLng.lng();\n    setMarkerPosition({ lat, lng });\n    setFormData({ ...formData, latitude: lat, longitude: lng });\n  };\n\n  const useCurrentLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const lat = position.coords.latitude;\n          const lng = position.coords.longitude;\n          setMarkerPosition({ lat, lng });\n          setFormData({ ...formData, latitude: lat, longitude: lng });\n        },\n        (error) => {\n          console.error(\"Error getting location:\", error);\n        }\n      );\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleAddStation = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\"http://localhost:5006/api/stations\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        fetchStations(); // Now it will work since fetchStations is defined\n        setFormData({ name: \"\", latitude: \"\", longitude: \"\", slots: \"\" });\n        setMarkerPosition(null);\n      }\n    } catch (error) {\n      console.error(\"Error adding station:\", error);\n    }\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"20px\" }}>\n      <h2>Manage Charging Stations</h2>\n\n      {/* Add Station Form */}\n      <form onSubmit={handleAddStation} style={{ marginBottom: \"20px\" }}>\n        <input type=\"text\" name=\"name\" placeholder=\"Station Name\" value={formData.name} onChange={handleChange} required />\n        <input type=\"number\" name=\"slots\" placeholder=\"Total Slots\" value={formData.slots} onChange={handleChange} required />\n        <button type=\"button\" onClick={useCurrentLocation}>Use Current Location</button>\n        <button type=\"submit\">Add Station</button>\n      </form>\n\n      {/* Google Map */}\n      <LoadScript googleMapsApiKey={MAP_API_KEY}>\n        <GoogleMap\n          mapContainerStyle={{ width: \"100%\", height: \"400px\" }}\n          center={markerPosition || { lat: 12.9716, lng: 77.5946 }}\n          zoom={markerPosition ? 15 : 10}\n          onClick={handleMapClick}\n        >\n          {markerPosition && <Marker position={markerPosition} />}\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n};\n\nexport default ManageStations;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}